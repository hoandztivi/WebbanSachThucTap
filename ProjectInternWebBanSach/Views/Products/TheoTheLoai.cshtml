@model IEnumerable<ProjectInternWebBanSach.Models.Sach>

@{
    ViewData["Title"] = ViewBag.CategoryName;
}
<link rel="stylesheet" href="~/css/theotheloai.css" asp-append-version="true">

<div class="container mx-auto px-4 py-8 max-w-7xl">
    <!-- Header -->
    <div class="text-center mb-8">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-800 uppercase inline-block border-b-4 border-red-500 pb-1">
            @ViewData["Title"]
        </h1>
    </div>

    <!-- Product Grid -->
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
        @foreach (var product in Model)
        {
            <div class="product-card">
                <a href="@Url.Action("Details", "Products", new { id = product.MaSach })" class="block">
                    <div class="relative aspect-[3/4] bg-gray-100 overflow-hidden">
                        @if (product.GiamGia > 0)
                        {
                            <div class="discount-badge">
                                -@product.GiamGia?.ToString("N0")đ
                            </div>
                        }
                        <img src="@product.HinhAnh"
                             alt="@product.TieuDe"
                             class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
                             loading="lazy" />
                    </div>
                    <div class="p-3 md:p-4">
                        <h3 class="title">@product.TieuDe</h3>
                        <div class="flex items-center gap-2 flex-wrap mt-1">
                            <span class="price text-red-600 font-bold text-base md:text-lg">
                                @product.Gia?.ToString("N0")đ
                            </span>
                            @if (product.GiamGia > 0 && product.GiamGia < product.Gia)
                            {
                                <span class="old-price text-gray-400 text-xs md:text-sm line-through">
                                    @product.GiamGia?.ToString("N0")đ
                                </span>
                            }
                        </div>
                    </div>
                </a>
            </div>
        }
    </div>

    <!-- View More Button -->
    <div class="text-center mt-8">
        <a href="@Url.Action("LoadMore", "Category")"
           class="inline-block text-red-600 hover:text-red-700 font-medium text-sm md:text-base transition-colors">
            Xem thêm >>
        </a>
    </div>
</div>